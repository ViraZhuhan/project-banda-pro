{"mappings":"8pBAAA,IAAAA,EAAAC,EAAA,S,oDAOMC,GAAO,E,WAAAC,WAEPC,EAAY,IAAI,EAAAC,EAAAF,S,SAEPG,I,OAAAA,EAAfC,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,I,IAEUC,E,2FAAiBP,EAAUQ,a,OACR,QADnBD,EAAQE,EAAAC,MACDC,SAAgD,IAA5BJ,EAASI,QAAQC,QAEvCL,EAASI,UACdb,EAAKe,QAAQC,UAAUC,SAAS,oBAClC,EAAAC,EAAAC,eAAcV,EAASI,QAAQO,MAAM,EAAG,MAExC,EAAAF,EAAAC,eAAcV,EAASI,QAAQO,MAAM,EAAG,K,gDAI5CC,EAAAC,Y,0DAbkCC,MAAAC,KAAAC,U,aAAvBrB,EAAuBmB,MAAAC,KAAAC,U,CAiBtCC,E,wFC5BA,IAAAC,EAAA5B,EAAA,SAIA,SAAS6B,IACPvB,EAAAsB,GAASE,OAAOC,QACb,mD,2FCNL/B,EAAA,S,yCAKA,IAAMgC,GAAO,EAAAC,EAAA/B,WA4Cb,SAASgC,EAAcC,GA1CvB,IAAgBC,EAgDdJ,EAAKhB,QAAQqB,UAAY,GAJzBL,EAAKhB,QAAQqB,WA5CCD,EA4CkBD,EA3CzBC,EAAKE,KACV,SAAAC,G,IAAGC,EAAWD,EAAXC,YAAaC,EAAKF,EAALE,MAAOC,EAAYH,EAAZG,aAAcC,EAAYJ,EAAZI,aAAcC,EAASL,EAATK,UAAWC,EAAEN,EAAFM,GACtDC,GAAS,EAAAC,EAAAC,YAAWJ,GACpBK,EAAU,IAAIC,KAAKP,GAAcQ,cAEjCC,EAAWZ,EACb,mCAA+Ca,OAAZb,GACnC,oDAIJ,MAAO,kCAE4Ba,OAFKR,EAAG,mEAEUQ,OAAlBD,EAAS,WAEVC,OAFmBZ,EAAM,qGAI5BY,OAFGZ,EAAM,wFAEGY,OAAZP,EAAO,OAI5BO,OAJiCJ,EAAQ,gJAcdI,OAVZ,GAAfX,EACD,wkBASyCW,OAAbX,EAAa,sG,KAYfY,KAAK,G,8HCnD9CtD,EAAA,S,WAAA,I,aAKauD,GAFD,IAAI,E,WAAArD,SAEU,SAAAsD,GACxB,IAAKC,MAAMC,QAAQF,GACjB,MAAO,gBAET,IAAMG,EAAcC,EAAAd,OACjBe,QAAO,SAAAtB,G,IAAGM,EAAEN,EAAFM,G,OAASW,EAAMM,SAASjB,E,IAClCP,KAAI,SAAAC,G,OAAOA,EAAJwB,I,IAEV,OAAKJ,EAAY5C,OAEN4C,EAAY5C,OAAS,EACvB,GAAsCsC,OAAnCM,EAAYtC,MAAM,EAAG,GAAGiC,KAAK,OAEhCK,EAAYL,KAAK,MAJjB,e,qFCdJ,IAAMU,EAAS,CAClB,CAAEnB,GAAI,GAAIkB,KAAM,UAEhB,CAAElB,GAAI,GAAIkB,KAAM,aAEhB,CAAElB,GAAI,GAAIkB,KAAM,aAEhB,CAAElB,GAAI,GAAIkB,KAAM,UAEhB,CAAElB,GAAI,GAAIkB,KAAM,SAEhB,CAAElB,GAAI,GAAIkB,KAAM,eAEhB,CAAElB,GAAI,GAAIkB,KAAM,SAEhB,CAAElB,GAAI,MAAOkB,KAAM,UAEnB,CAAElB,GAAI,GAAIkB,KAAM,WAEhB,CAAElB,GAAI,GAAIkB,KAAM,WAEhB,CAAElB,GAAI,GAAIkB,KAAM,UAEhB,CAAElB,GAAI,MAAOkB,KAAM,SAEnB,CAAElB,GAAI,KAAMkB,KAAM,WAElB,CAAElB,GAAI,MAAOkB,KAAM,WAEnB,CAAElB,GAAI,IAAKkB,KAAM,mBAEjB,CAAElB,GAAI,MAAOkB,KAAM,YAEnB,CAAElB,GAAI,GAAIkB,KAAM,YAEhB,CAAElB,GAAI,MAAOkB,KAAM,OAEnB,CAAElB,GAAI,GAAIkB,KAAM,W","sources":["src/js/create-trends.js","src/js/components/msg-error.js","src/js/render-card.js","src/js/components/genre-list.js","src/js/components/genres.js"],"sourcesContent":["import Api from './api';\nimport { noFilmError, onFetchError } from './components/msg-error';\nimport { createGallery } from './render-card';\nimport getRefs from './components/get-refs';\n// import onOpenModalEmpty from './modal-empty';\n\n\nconst refs = getRefs();\n\nconst searchApi = new Api();\n\nasync function createWeekTrendsCatalog() {\n  try {\n    const response = await searchApi.weekTrends();\n    if (response.results === null || response.results.length === 0) {\n      // onOpenModalEmpty();\n    } else if (response.results) {\n      if (refs.gallery.classList.contains('gallery-catalog')) {\n        createGallery(response.results.slice(0, 10));\n      } else {\n        createGallery(response.results.slice(0, 3));\n      }\n    }\n  } catch (error) {\n    noFilmError;\n  }\n}\n\ncreateWeekTrendsCatalog();\n\n// export { createWeekTrendsCatalog };\nexport { createWeekTrendsCatalog};","import Notiflix from 'notiflix';\n\nexport { noFilmError, onFetchError, noGenresError};\n\nfunction noFilmError() {\n  Notiflix.Notify.warning(\n    `Sorry, there are no films. Please try again late`\n  );\n}\n\nfunction onFetchError() {\n  Notiflix.Notify.failure(`Please write something and try again`);\n}\n\nfunction noGenresError() {\n    Notiflix.Notify.warning(\n      `Sorry, there are no genres. Please try again late`\n    );\n  }\n\n\n","import { initRatings } from './init-rating';\nimport getRefs from './components/get-refs';\nimport { genresList } from './components/genre-list';\nimport initRating from './init-rating';\n\nconst refs = getRefs();\n\nfunction markup(data) {\n  return data.map(\n    ({ poster_path, title, vote_average, release_date, genre_ids, id }) => {\n      const genres = genresList(genre_ids);\n      const release = new Date(release_date).getFullYear();\n\n      const imageUrl = poster_path\n        ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n        : 'https://via.placeholder.com/395x574?text=No+Image';\n\n      // initRatings();\n\n      return `<li class=\"gallery__item\" id='${id}'>\n        <article>\n        <img class=\"gallery__img\" src=\"${imageUrl}\" alt=\"${title}\" width=\"395\" >\n          <div class=\"gallery__details\">\n            <p class=\"details__title\">${title}</p>\n            <div class=\"wraper__details\">\n            <p class=\"movieGenres\">${genres} | ${release}</p>\n              <div class=\"rating\">\n              <div class=\"rating__body\">\n              <div class=\"rating__active\" style=\"width: ${\n                vote_average * 10\n              }%;\"></div>>\n                <div class=\"rating__items\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"1\" name=\"rating\" />\n                  <input type=\"radio\" class=\"rating__item\" value=\"2\" name=\"rating\" />\n                  <input type=\"radio\" class=\"rating__item\" value=\"3\" name=\"rating\" />\n                  <input type=\"radio\" class=\"rating__item\" value=\"4\" name=\"rating\" />\n                  <input type=\"radio\" class=\"rating__item\" value=\"5\" name=\"rating\" />\n                </div>\n              </div>\n              <div class=\"rating__value\">${vote_average}</div>\n            </div>\n            </div>\n          </div>\n        </article>\n        </li>`;\n    }\n  );\n}\n\nfunction createGallery(films) {\n  clearGallery();\n  refs.gallery.innerHTML = markup(films).join('');\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nexport { createGallery, clearGallery };\n","import { genres } from './genres';\nimport Api from '../api';\n\nconst api = new Api();\n\nexport const genresList = array => {\n  if (!Array.isArray(array)) {\n    return 'Unknown genre';\n  }\n  const genreResult = genres\n    .filter(({ id }) => array.includes(id))\n    .map(({ name }) => name);\n\n  if (!genreResult.length) {\n    return 'Unknown genre';\n  } else if (genreResult.length > 2) {\n    return `${genreResult.slice(0, 2).join(', ')}`;\n  } else {\n    return genreResult.join(', ');\n  }\n};\n\nasync function getGenre(movieId) {\n  try {\n    const response = api.fetchGenres(movieId);\n    const genres = response.data.genres\n      .slice(0, 2)\n      .map(genre => genre.name)\n      .join(', ');\n    return genres;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","export const genres = [\n    { id: 28, name: 'Action' },\n  \n    { id: 12, name: 'Adventure' },\n  \n    { id: 16, name: 'Animation' },\n  \n    { id: 35, name: 'Comedy' },\n  \n    { id: 80, name: 'Crime' },\n  \n    { id: 99, name: 'Documentary' },\n  \n    { id: 18, name: 'Drama' },\n  \n    { id: 10751, name: 'Family' },\n  \n    { id: 14, name: 'Fantasy' },\n  \n    { id: 36, name: 'History' },\n  \n    { id: 27, name: 'Horror' },\n  \n    { id: 10402, name: 'Music' },\n  \n    { id: 9648, name: 'Mystery' },\n  \n    { id: 10749, name: 'Romance' },\n  \n    { id: 878, name: 'Science Fiction' },\n  \n    { id: 10770, name: 'TV Movie' },\n  \n    { id: 53, name: 'Thriller' },\n  \n    { id: 10752, name: 'War' },\n  \n    { id: 37, name: 'Western' },\n  ];\n  "],"names":["$bpxeT","parcelRequire","$ff7a6fb768144094$var$refs","default","$ff7a6fb768144094$var$searchApi","$b7ONl","$ff7a6fb768144094$var$_createWeekTrendsCatalog","$parcel$interopDefault","$2TvXO","mark","_callee","response","weekTrends","_ctx","sent","results","length","gallery","classList","contains","$cwHAv","createGallery","slice","$2V7fS","noFilmError","apply","this","arguments","$ff7a6fb768144094$export$2f0a4a46725644c2","$6JpON","$2206885b824e8516$export$bcc7fc7904691763","Notify","warning","$91ea48cd49373332$var$refs","$8nXZc","$91ea48cd49373332$export$dac8b9bf675ebb55","films","data","innerHTML","map","param","poster_path","title","vote_average","release_date","genre_ids","id","genres","$3HOTw","genresList","release","Date","getFullYear","imageUrl","concat","join","$2b2cddd149d989ad$export$65f5202b5c3d7552","array","Array","isArray","genreResult","$lGIxQ","filter","includes","name","$fca012e7b3284e4f$export$be3a0ca764f9df2b"],"version":3,"file":"index.f0115aec.js.map"}